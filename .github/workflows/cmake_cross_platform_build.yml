# Add this to your CMakeLists.txt for better Windows expat detection
if(WIN32 AND VCPKG_TOOLCHAIN)
    find_package(PkgConfig QUIET)
    if(PkgConfig_FOUND)
        pkg_check_modules(EXPAT QUIET expat)
    endif()
    
    if(NOT EXPAT_FOUND)
        find_package(expat CONFIG REQUIRED)
        set(EXPAT_LIBRARIES expat::expat)
        set(EXPAT_INCLUDE_DIRS ${expat_INCLUDE_DIRS})
    endif()
else()
    find_package(PkgConfig REQUIRED)
    pkg_check_modules(EXPAT REQUIRED expat)
endif()