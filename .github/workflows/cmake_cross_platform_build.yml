    # Create byteswap compatibility header for Windows
    - name: Create byteswap compatibility (Windows)
      if: runner.os == 'Windows'
      working-directory: ${{github.workspace}}/testapp
      run: |
        @"
        #ifndef BYTESWAP_H
        #define BYTESWAP_H
        #ifdef _WIN32
        #include <intrin.h>
        #include <cstdint>
        static inline uint16_t bswap_16(uint16_t x) { return _byteswap_ushort(x); }
        static inline uint32_t bswap_32(uint32_t x) { return _byteswap_ulong(x); }
        static inline uint64_t bswap_64(uint64_t x) { return _byteswap_uint64(x); }
        #endif
        #endif
        "@ | Out-File -FilePath "byteswap.h" -Encoding UTF8